<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Progressive Training Cycle</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body class="bg-slate-900 text-slate-100">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    const WEEKS = {
      1: {
        title: "Week 1: Foundation",
        monday: ["Squats", "Deadlifts", "Bench Press"],
        tuesday: "Boxing",
        wednesday: "Studio",
        thursday: "Boxing",
        friday: "Yoga",
        saturday: "Zone 2 Cardio",
        sunday: "Rest"
      },
      2: {
        title: "Week 2: Build",
        monday: ["Squats", "Deadlifts", "Bench Press"],
        tuesday: "Boxing",
        wednesday: "Studio",
        thursday: "Boxing",
        friday: "Yoga",
        saturday: "Long Cardio",
        sunday: "Rest"
      },
      3: {
        title: "Week 3: Push",
        monday: ["Squats", "Deadlifts", "Bench Press"],
        tuesday: "Boxing",
        wednesday: "Studio",
        thursday: "Boxing",
        friday: "Yoga",
        saturday: "Peak Cardio",
        sunday: "Rest"
      },
      4: {
        title: "Week 4: Recover",
        monday: ["Squats (Light)", "Deadlifts (Light)", "Bench (Light)"],
        tuesday: "Technical Boxing",
        wednesday: "Light Studio",
        thursday: "Technique",
        friday: "Yoga",
        saturday: "Easy Cardio",
        sunday: "Full Rest"
      }
    };

    function App() {
      const [week, setWeek] = useState(1);
      const [baseline, setBaseline] = useState(() => {
        return JSON.parse(localStorage.getItem("baseline")) || {
          squats: "",
          deadlifts: "",
          bench: ""
        };
      });

      useEffect(() => {
        localStorage.setItem("baseline", JSON.stringify(baseline));
      }, [baseline]);

      const data = WEEKS[week];

      return (
        <div className="max-w-3xl mx-auto p-6 space-y-6">

          <h1 className="text-3xl font-bold">Training Cycle</h1>

          {/* Week Selector */}
          <div className="flex gap-2">
            {[1,2,3,4].map(w => (
              <button
                key={w}
                onClick={() => setWeek(w)}
                className={`flex-1 py-2 rounded-xl font-bold ${
                  week === w ? "bg-blue-600" : "bg-slate-700"
                }`}
              >
                Week {w}
              </button>
            ))}
          </div>

          {/* Week Title */}
          <div className="bg-slate-800 p-4 rounded-xl">
            <h2 className="text-xl font-bold">{data.title}</h2>
          </div>

          {/* Baseline Input â€“ Week 1 Only */}
          {week === 1 && (
            <div className="bg-slate-800 p-4 rounded-xl space-y-3">
              <h3 className="font-bold">Enter Starting Weights</h3>

              {Object.keys(baseline).map(lift => (
                <div key={lift} className="flex gap-2">
                  <label className="w-28 capitalize">{lift}</label>
                  <input
                    type="number"
                    placeholder="lbs"
                    className="flex-1 bg-slate-900 p-2 rounded"
                    value={baseline[lift]}
                    onChange={e =>
                      setBaseline({ ...baseline, [lift]: e.target.value })
                    }
                  />
                </div>
              ))}
            </div>
          )}

          {/* Monday Workout */}
          <div className="bg-slate-800 p-4 rounded-xl">
            <h3 className="font-bold mb-2">Monday</h3>
            <ul className="list-disc list-inside text-sm">
              {data.monday.map((ex, i) => (
                <li key={i}>{ex}</li>
              ))}
            </ul>
          </div>

          {/* Weekly Schedule */}
          <div className="grid grid-cols-2 gap-3 text-sm">
            {["tuesday","wednesday","thursday","friday","saturday","sunday"].map(day => (
              <div key={day} className="bg-slate-800 p-3 rounded">
                <strong className="capitalize">{day}:</strong> {data[day]}
              </div>
            ))}
          </div>

        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<App />);
  </script>
</body>
</html>